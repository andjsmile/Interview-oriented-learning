## HTTP相关的面试知识点

**1.HTTP协议以及一次HTTP操作**

http是面向事务的的应用层协议，是万维网能够可靠交换文件(文本，声音，图像等)的重要基础

http 1.0是无状态协议 stateless

http 协议本身也是无连接(虽然使用tcp面向连接)



一此HTTP操作(url到界面生成的过程)

1.浏览器分析连接指向的url
2.浏览器向DNS请求解析url的IP地址
3.浏览器和服务器建立tcp连接(三次握手)
4.浏览器翻出命令，http 请求
5.服务器给出响应，把http响应报文发送给浏览器
6.tcp四次挥手断开连接
7.浏览器解析报文，显示文本


**2.http报文格式**

请求报文+响应报文 (开始行(请求行、状态行)+首部行+实体主体)


请求报文:

- 请求行:方法+url+版本

   - 方法:
   1.OPTION 请求一些选项的信息
   2.GET    请求读取url锁标志的信息
   3.HEAD   请求读取URL所标志的信息的首部
   4.POST   给服务器添加信息
   5.PUT    在指明的url下存储一个文档
   6.DELETE 删除指明的url所标志的资源
   7.TRACE  进行环回测试的请求报文
   8.CONNECT用于代理服务器



- 首部行:用来说明服务器，浏览器或报文主体的一些信息

- 实体主体:通常不用

响应报文:

- 状态行:版本+状态码+短语

- 首部行

- 实体主体


**3.HTTP1.0,HTTP1.1,HTTP2.0的区别**

HTTP1.0 vs HTTP1.1

HTTP1.1是当前使用最广泛的http协议

- 缓存处理,HTTP1.O 使用header中 if-modified-since  expires 作为缓存判断的标准
          HTTP1.1 entiy-tag,if-match,if-not-match

- 带宽的优化及网络连接的使用
          HTTP1.1可以实现部分返回  206 

- host头处理
         1.0 每台服务器都能绑定一个唯一的IP地址
         1.1 可以共享一个ip地址

- 长连接、持续连接
         1.1支持长连接 和请求的流水线处理，在一个tcp连接上可以传送多个HTTP请求和响应
         减少了建立和关闭连接的消耗和延迟，默认开启 connect:keep-alive
         一定程度上弥补类1.0每次请求都要创建连接的缺点

HTTP1.1 vs HTTP2.0

- 新的二进制格式

- 多路复用

- header压缩

- 服务端推送



**4.HTTP状态码**

- 1xx 表示通知信息，请求收到了或正在处理

- 2xx 表示请求被正常处理
      200   ok
      204   not content       请求成功，无资源返回
      206   partial content   对资源的部分请求

- 3xx 表示浏览器需要执行某些特殊的处理以正确处理请求

      301   move permanently  永久性重定向,请求的资源已经被分配新的url
      302   found             临时重定向
      303   see other         get方法定向获取请求的资源
      304   not modified      资源找到，但是不符合请求
      307   temporary redirect 临时重定向

- 4xx  客户端发生错误

      400   bad request      无法理解请求，请求有语法错误
      401   unauthorized     需要认证
      403   forbidden        不允许访问那个资源
      404   not found        服务器上没有请求的资源

- 5xx  服务器发生错误

      500    internal server error   内部资源出故障
      503    server unavailable      服务器正忙，处于超载或者停机维护，现在无法处理请求

**5.为什么需要HTTPS**

HTTPS=HTTP+SSL
https=http+加密+认证+完整性保护

http的漏洞:

1.通信使用明文(不加密),内容会被窃听

2.不验证通信方身份，可能遭遇伪装

3.无法证明报文的完整性，所以有可能被篡改



**6.IP数据报格式**

ip数据报:首部+数据部分

ip数据报首部:

固定部分

- 版本            4位   IP协议的版本
- 首部长度         4位   
- 区分服务         8位
- 总长度          16位
- 标识            16位
- 标志            3位
- 片偏移          13位
- 生存时间         8位
- 协议            8位
- 首部校验和       16位
- 源地址          32位
- 目标地址         32位            

**7.UDP数据报格式**

udp用户数据报:首部字段(8个字节，4个字段，每个字段两个字节)+数字字段

首部字段:

- 源端口，
- 目的端口
- 长度，用户数据报长度
- 校验和 

udp的首部+数据  添加到ip数据报的数据中


